<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SearchSECODatabaseAPI: SearchSECO Controller</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SearchSECODatabaseAPI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">SearchSECO Controller </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><img src="https://github.com/SecureSECO/SearchSECOController/actions/workflows/testing.yml/badge.svg" alt="Testing" style="pointer-events: none;" class="inline"/></p>
<p>This is the Controller module used by the SearchSECO project. It is responsible for mediating communication between the other modules, and talking to the user. A reference documentation can be found <a href="https://secureseco.github.io/SearchSECOController/">here</a>.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Running locally</h1>
<p>If you want to run the controller connected to the official database, The easiest way is to use the <a href="https://hub.docker.com/r/searchseco/controller">Docker hub image</a>. To do this you need to have <a href="https://docs.docker.com/get-docker/">Docker</a> installed. After this you can use the following command if you just want to run the start command: </p><div class="fragment"><div class="line">docker run --name controller-container -e &quot;github_token=&lt;github_token&gt;&quot; -e &quot;worker_name=&lt;worker_name&gt;&quot; searchseco/controller</div>
</div><!-- fragment --><p> If you want to run a custom command you can use the following command: </p><div class="fragment"><div class="line">docker run --name controller-container --entrypoint=&quot;./controller/build/searchseco&quot; -e &quot;github_token=&lt;github_token&gt;&quot; -e &quot;worker_name=&lt;worker_name&gt;&quot; searchseco/controller &lt;command&gt;</div>
</div><!-- fragment --><p> In these commands you should replace <code>&lt;github_token&gt;</code> with your <a href="https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token">github token</a> and <code>&lt;worker_name&gt;</code> with a name for you node to contact to the database with.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Developing</h1>
<p>For developing there are a couple of ways to run the local code as described here. A more elaborate explanation of the architecture can be found in the full <a href="./Documentation/Documentation.pdf">documentation</a>.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Cloning</h2>
<p>After cloning the repository, make sure to initialize and update the submodules by calling </p><div class="fragment"><div class="line">&gt; git submodule init </div>
<div class="line">&gt; git submodule update</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4"></a>
Dependencies</h2>
<ul>
<li>Windows 10+, Ubuntu 18.04+. Might work on older Windows versions or other UNIX systems but has not been tested.</li>
<li><a href="https://www.boost.org/users/download/">Boost 1.76.0</a><ul>
<li>UNIX<ul>
<li>Install <code>libboost-all-dev</code></li>
</ul>
</li>
<li>Windows<ul>
<li>Save the unzipped directory at the path <code>C:\Program Files\Boost\boost_1_76_0</code>.</li>
<li>In an adminstrative command prompt, run <div class="fragment"><div class="line">&gt; bootstrap.bat</div>
<div class="line">&gt; b2.exe</div>
</div><!-- fragment --></li>
</ul>
</li>
</ul>
</li>
<li><a href="https://github.com/SecureSECO/SearchSECOCrawler">SearchSECOCrawler</a></li>
<li><a href="https://github.com/SecureSECO/SearchSECOSpider">SearchSECOSpider</a></li>
<li><a href="https://github.com/SecureSECO/SearchSECOParser">SearchSECOParser</a></li>
</ul>
<h2><a class="anchor" id="autotoc_md5"></a>
Configuration</h2>
<p>There are a couple of configurations that can/need to be done. Firstly the <code>SearchSECOController/.env</code> file should contain the ip adresses and ports of the database apis to connect to. Secondly the <code>SearchSECOController/cfg/config.txt</code> file contains some more configurations. The worker name field should contain a name for your worker, which will be sent to the database api. Also the github token should have a correct github token. For info on creating this token click <a href="https://docs.github.com/en/github/authenticating-to-github/keeping-your-account-and-data-secure/creating-a-personal-access-token">here</a>. The token needs no permissions (see step 7 of guide) so it will not be able to interact with your personal GitHub account in any way. Without providing a token, the program will not be able to use the SearchSECOCrawler (making it impossible to crawl repositories or upload projects). There are also some optional configurations in this file, like the vorbosity of the output and the amount of CPU cores to use.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Building</h2>
<h3><a class="anchor" id="autotoc_md7"></a>
Docker</h3>
<p>You can use the code to build a Docker image. Make sure <a href="https://docs.docker.com/get-docker/">Docker</a> is installed. In the root of the project run </p><div class="fragment"><div class="line">docker build -t controller-image .</div>
</div><!-- fragment --><p> This will build the image for the container. After this you can use the following command to run the container: </p><div class="fragment"><div class="line">docker run --name=controller-container --network=host -d --restart=always controller-image</div>
</div><!-- fragment --><p> This will start the container in detached mode and it will restart automatically. This is perfect for when you just want to start the worker node. If you want to see the console and be able to issue the stop command you should use the following command: </p><div class="fragment"><div class="line">docker run --name=controller-container --network=host -i controller-image</div>
</div><!-- fragment --><p>By default the build command will build an image that will run the start command. In order to use other commands with Docker you can remove the <code>, "start"</code> from the last line of the dockerfile and then use the same build command to build the image and then the interactive run command to run the program. It will listen for a command input, so any command can be put in.</p>
<h3><a class="anchor" id="autotoc_md8"></a>
CMake</h3>
<p>Make sure <a href="https://cmake.org/download">CMake</a> is installed.</p><ul>
<li>In the root of the project, run <div class="fragment"><div class="line">&gt; mkdir build &amp;&amp; cd build</div>
<div class="line">&gt; cmake ../SearchSECOController</div>
<div class="line">&gt; cmake --build .</div>
</div><!-- fragment --></li>
<li>Verify the install was successful by running <div class="fragment"><div class="line">&gt; ./searchseco -v   (UNIX)</div>
<div class="line">&gt; searchseco -v     (Windows)</div>
</div><!-- fragment --></li>
</ul>
<h3><a class="anchor" id="autotoc_md9"></a>
Visual Studio</h3>
<p>Open the solution and simply build the project. When the terminal is started up, you need to only pass the command + flags, without the preceding <code>searchseco</code>.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
Usage</h2>
<p>After building the program, it can be called using the following syntax: <br  />
 </p><div class="fragment"><div class="line">searchseco command mandatory_argument [--optional_flag flag_argument]</div>
</div><!-- fragment --><p> To see the full list of commands and their functionality see the official <a href="./Documentation/User_Manual.pdf">user manual</a> or use the <code>-h</code> flag.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
License</h1>
<p>This project is licensed under the GNU Affero General Public License v3.0. See [LICENSE](LICENSE) for more info.</p>
<p>This program has been developed by students from the bachelor Computer Science at Utrecht University within the Software Project course. Â© Copyright Utrecht University (Department of Information and Computing Sciences)</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Licenses for code from other projects</h2>
<p>The SearchSECOController does not use licensed external code itself, though the SearchSECO modules do. Please refer to their respective README files:</p>
<ul>
<li><a href="https://github.com/SecureSECO/SearchSECOCrawler#licenses-for-code-from-other-projects">SearchSECOCrawler</a></li>
<li><a href="https://github.com/SecureSECO/SearchSECOParser#licenses-for-code-from-other-projects">SearchSECOParser</a></li>
<li><a href="https://github.com/SecureSECO/SearchSECODatabaseAPI#licenses-for-code-from-other-projects">SearchSECODatabaseAPI</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
